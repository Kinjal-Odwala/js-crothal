<section>
    <h3 class="text-center header">Plan Assignments</h3>
</section>
<div style="clear:both;"></div>

<div class="container bs-docs-container ">
    <div class="row  margin-bottom10 form-horizontal">
        <div class="col-md-4">
            <div class="form-group">
                <label class="col-md-3 control-label">PTO Year</label>
                <div class="col-md-4">
                     <select class="form-control input-sm" ng-model="ptoYear" ng-options="item.id as item.name for item in PtoYears">
                     </select>  
                </div>
                <div class="col-md-4">
                    <a class="btn btn-primary" ng-click="search()">Search</a>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="form-group">
                <label class="col-md-2">
                     <input name="ServiceLine" ng-model="serviceLine" type="radio" value="Service Line"/>&nbsp;Service Line
                </label>
                 <label class="col-md-2">
                     <input name="JDECompany" ng-model="jdeCompany" type="radio" value="JDE Company"/>&nbsp;JDE Company
                </label>
                 <label class="col-md-4">
                     <input name="grid" ng-model="grid" type="radio" value="grid"/>&nbsp;State / County / City / House Code
                </label>
            </div>
        </div>
    </div>

    <div class="row margin-bottom10">
        <div class="col-md-4">
            <table class="table-scroll table table-striped table-bordered table-hover">
                    <thead style="color:#3276b1;">
                        <tr class="heading" role="row">
                            <th width="2%" style="text-align:center">
                                #
                            </th>
                            <th width="10%" style="text-align:center">
                                    Brief
                            </th>
                            <th width="15%" style="text-align:center">
                                    Title
                            </th>
                            <th width="1%"></th>
                        </tr>
                    </thead>
                    <tbody style="max-height:800px;">
                        <tr ng-repeat="item in states" ng-click="stateSelected(item)" ng-class="{'warning':selectedState == item};">
                            <td width="2%" align ="center">{{$index + 1}}</td>
                            <td width="10%" align ="center">{{item.brief}}</td>
                            <td width="15%">{{item.name}}</td>
                         </tr>
                    </tbody>
            </table>
        </div>

        
        <div class="col-md-8">
            
            <table class="table-scroll table table-bordered table-striped table-hover margin-bottom10">
                <thead style="color:#3276b1;">
                        <tr class="heading" role="row">
                            <th style="text-align:center">
                               State Plan Details
                            </th>
                        </tr>
                </thead>
                <tbody style="max-height:150px;width:100%">
                    <tr>
                        <td width="33%" align="center">
                            Plan Name
                        </td>
                        <td width="33%" align="center">
                            PTO Type
                        </td>
                        <td width="33%" align="center">
                            Plan Type
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <a href="" ng-click="group.$hideRows = !group.$hideRows">
                            <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': !group.$hideRows, 'glyphicon-chevron-down': group.$hideRows }"></span>
                                <strong>{{ state }}</strong>
                        </td>
                    </tr>
                    <tr ng-hide="!group.$hideRows" ng-repeat="item in statePlans track by $index" ng-click="statePlanSelected(item)" ng-class="{'warning':selectedStatePlan == item};">
                        <td width="33%" align="center">{{item.title}}</td>
                        <td width="33%" align="center">{{getPtoTypeName(item.ptoType)}}</td>
                        <td width="33%" align="center">{{getPtoPlanTypeName(item.ptoPlanType)}}</td>
                    </tr>
                    <!--<tr ng-repeat-end>
                        <td class="text-success text-right"><strong>Summary:</strong></td>
                        <td><em>{{demo.sum(group.data, "age")}}</em></td>
                        <td><em>{{demo.sum(group.data, "money")}}</em></td>
                    </tr>-->
                </tbody>
                <tfoot>
                    <tr class="footer">
                        <td colspan="6">
                        <img id="img3" src="/fin/cmn/usr/media/Common/add.png" ng-click="addStatePlan()" style="cursor: pointer" alt="Add Document" title="Click here to addPlan" />
                        <img id="img4" src="/fin/cmn/usr/media/Common/delete.png" ng-click="removeStatePlan()" style="cursor: pointer" alt="Remove Document" title="Click here to remove the plan" />
                        </td>
                    </tr>
                </tfoot>
            </table>
            <div class="row margin-bottom10"></div>
            <table class="table-scroll table table-bordered table-striped table-hover margin-bottom10">
                <thead style="color:#3276b1;">
                        <tr class="heading" role="row">
                            <th style="text-align:center">
                               County Plan Details
                            </th>
                        </tr>
                </thead>
                <tbody style="max-height:200px;">
                    <tr>
                        <td width="33%" align="center">
                            Plan Name
                        </td>
                        <td width="33%" align="center">
                            PTO Type
                        </td>
                        <td width="33%" align="center">
                            Plan Type
                        </td>
                    </tr>
                    <tr ng-repeat-start="county in countys" ng-click="countySelected(county)" ng-class="{'warning':selectedCounty == county};">
                        <td colspan="3">
                            <a href="" ng-click="county.$hideRows = !county.$hideRows">
                            <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': !county.$hideRows, 'glyphicon-chevron-down': county.$hideRows }"></span>
                                <strong>{{ county.name }}</strong>
                        </td>
                    </tr>
                    <tr ng-hide="!county.$hideRows" ng-repeat="countyPlan in county.countyPlans" ng-click="countyPlanSelected(countyPlan)" ng-class="{'warning':selectedCountyPlan == countyPlan};">
                        <td width="33%" align="center">{{countyPlan.title}}</td>
                        <td width="33%" align="center">{{getPtoTypeName(countyPlan.ptoType)}}</td>
                        <td width="33%" align="center">{{getPtoPlanTypeName(countyPlan.ptoPlanType)}}</td>
                    </tr>
                    <tr ng-repeat-end>
                        <!--<td class="text-success text-right"><strong>Summary:</strong></td>
                        <td><em>{{demo.sum(group.data, "age")}}</em></td>
                        <td><em>{{demo.sum(group.data, "money")}}</em></td>-->
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="footer">
                        <td colspan="6">
                        <img id="img1" src="/fin/cmn/usr/media/Common/add.png" ng-click="addCountyPlan()" style="cursor: pointer" alt="Add Document" title="Click here to addPlan" />
                        <img id="img2" src="/fin/cmn/usr/media/Common/delete.png" ng-click="removeCountyPlan()" style="cursor: pointer" alt="Remove Document" title="Click here to remove the plan" />
                        </td>
                    </tr>
                </tfoot>
            </table>
            <div class="row margin-bottom10"></div>
            <table class="table-scroll table table-bordered table-striped table-hover margin-bottom10">
                <thead style="color:#3276b1;">
                        <tr class="heading" role="row">
                            <th style="text-align:center">
                               City Plan Details
                            </th>
                        </tr>
                </thead>
                <tbody style="max-height:200px;">
                    <tr>
                        <td width="33%" align="center">
                            Plan Name
                        </td>
                        <td width="33%" align="center">
                            PTO Type
                        </td>
                        <td width="33%" align="center">
                            Plan Type
                        </td>
                    </tr>
                    <tr ng-repeat-start="city in cities" ng-click="citySelected(city)" ng-class="{'warning':selectedCity == city};">
                        <td colspan="3">
                            <a href="" ng-click="city.$hideRows = !city.$hideRows">
                            <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': !city.$hideRows, 'glyphicon-chevron-down': city.$hideRows }"></span>
                                <strong>{{ city.name }}</strong>
                        </td>
                    </tr>
                    <tr ng-hide="!city.$hideRows" ng-repeat="cityPlan in city.cityPlans" ng-click="cityPlanSelected(cityPlan)" ng-class="{'warning':selectedCityPlan == cityPlan};">
                        <td width="33%" align="center">{{cityPlan.title}}</td>
                        <td width="33%" align="center">{{getPtoTypeName(cityPlan.ptoType)}}</td>
                        <td width="33%" align="center">{{getPtoPlanTypeName(cityPlan.ptoPlanType)}}</td>
                    </tr>
                    <tr ng-repeat-end>
                        <!--<td class="text-success text-right"><strong>Summary:</strong></td>
                        <td><em>{{demo.sum(group.data, "age")}}</em></td>
                        <td><em>{{demo.sum(group.data, "money")}}</em></td>-->
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="footer">
                        <td colspan="6">
                        <img id="img5" src="/fin/cmn/usr/media/Common/add.png" ng-click="addCityPlan()" style="cursor: pointer" alt="Add Document" title="Click here to addPlan" />
                        <img id="img6" src="/fin/cmn/usr/media/Common/delete.png" ng-click="removeCityPlan()" style="cursor: pointer" alt="Remove Document" title="Click here to remove the plan" />
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>
<script type="text/ng-template" id="statePlanGrid.html">
    <form name="planInfoForm">
    <div id="planModal" class="modal-content" style="width:800px;">
        <div style="font-weight:bold;font-size: 18px;text-align: center;font-family: Verdana;">Select Plan</div>
        <div class="modal-body" id="planTable">
        <table class="table-scroll table table-striped table-bordered table-hover">
        <thead style="color:#3276b1;">
            <tr class="heading" role="row">
                <th width="2%" style="text-align:center">
                    #
                </th>
                <th width="10%" style="text-align:center">
                        Plan Name
                </th>
                <th width="15%" style="text-align:center">
                        PTO Type
                </th>
                <th width="15%" style="text-align:center">
                        Plan Type
                </th>
                <th width="1%"></th>
            </tr>
        </thead>
        <tbody style="max-height:200px;">
            <tr ng-repeat="item in plans track by $index" ng-click="statePlanSelected(item)" ng-class="{'warning':selectedStatePlan == item};">
                <td width="2%" align ="center">{{$index + 1}}</td>
                <td width="10%">{{item.title}}</td>
                <td width="15%">{{getPtoTypeName(item.ptoType)}}</td>
                <td width="15%">{{getPtoPlanTypeName(item.ptoPlanType)}}</td>
             </tr>
        </tbody>
    </table>
    </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-disabled="isSelected" ng-click="addSelectedStatePlan();ok()">OK</button>
            <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </div>
</script>
<script type="text/ng-template" id="countyPlanGrid.html">
    <form name="planInfoForm">
    <div id="planModal" class="modal-content" style="width:800px;">
        <div style="font-weight:bold;font-size: 18px;text-align: center;font-family: Verdana;">Select Plan</div>
        <div class="modal-body" id="planTable">
        <table class="table-scroll table table-striped table-bordered table-hover">
        <thead style="color:#3276b1;">
            <tr class="heading" role="row">
                <th width="2%" style="text-align:center">
                    #
                </th>
                <th width="10%" style="text-align:center">
                        Plan Name
                </th>
                <th width="15%" style="text-align:center">
                        PTO Type
                </th>
                <th width="15%" style="text-align:center">
                        Plan Type
                </th>
                <th width="1%"></th>
            </tr>
        </thead>
        <tbody style="max-height:200px;">
            <tr ng-repeat="item in plans track by $index" ng-click="countyPlanSelected(item)" ng-class="{'warning':selectedCountyPlan == item};">
                <td width="2%" align ="center">{{$index + 1}}</td>
                <td width="10%">{{item.title}}</td>
                <td width="15%">{{getPtoTypeName(item.ptoType)}}</td>
                <td width="15%">{{getPtoPlanTypeName(item.ptoPlanType)}}</td>
             </tr>
        </tbody>
    </table>
    </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-disabled="isSelected" ng-click="addSelectedCountyPlan();ok()">OK</button>
            <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </div>
</script>
<script type="text/ng-template" id="cityPlanGrid.html">
    <form name="planInfoForm">
    <div id="planModal" class="modal-content" style="width:800px;">
        <div style="font-weight:bold;font-size: 18px;text-align: center;font-family: Verdana;">Select Plan</div>
        <div class="modal-body" id="planTable">
        <table class="table-scroll table table-striped table-bordered table-hover">
        <thead style="color:#3276b1;">
            <tr class="heading" role="row">
                <th width="2%" style="text-align:center">
                    #
                </th>
                <th width="10%" style="text-align:center">
                        Plan Name
                </th>
                <th width="15%" style="text-align:center">
                        PTO Type
                </th>
                <th width="15%" style="text-align:center">
                        Plan Type
                </th>
                <th width="1%"></th>
            </tr>
        </thead>
        <tbody style="max-height:200px;">
            <tr ng-repeat="item in plans track by $index" ng-click="cityPlanSelected(item)" ng-class="{'warning':selectedCityPlan == item};">
                <td width="2%" align ="center">{{$index + 1}}</td>
                <td width="10%">{{item.title}}</td>
                <td width="15%">{{getPtoTypeName(item.ptoType)}}</td>
                <td width="15%">{{getPtoPlanTypeName(item.ptoPlanType)}}</td>
             </tr>
        </tbody>
    </table>
    </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-disabled="isSelected" ng-click="addSelectedCityPlan();ok()">OK</button>
            <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </div>
</script>


