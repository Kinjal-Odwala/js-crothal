
<div class="container bs-docs-container">
  <form name="ptoForm">
    <div class="row margin-bottom10" style="padding-bottom: 10px;">
        <div class="form-group">
            <div class="col-md-2">
                <div id="itemStatusImage" class="itemStatusImage"></div>
                <div id="itemModifiedImage" class="itemModifiedImage"></div>
                <div id="itemStatusText"></div>
            </div>
        </div>
    </div>
    <div id="empPTOView">
    <tabset class="margin-bottom10">
        <tab heading="PTO Years" ng-show="showPTOYears" ng-click="onPTOYearsTabClick()">
           <div id="mainView" ng-style="{'max-height': mainViewHeight + 'px'}">
            <div class="row" style="background-color: #C5D7EC;">
                <div style="padding-left: 700px; font: bold; font-size: larger;">
                    <label class="control-label">PTO Years</label>
                </div>
            </div>
            <div class="row margin-bottom10" style="padding-top:15px;">
                <div class="col-md-4">
                    <table class="table-scroll table table-striped table-bordered table-hover" style="width: 500px;">
                        <thead>
                            <tr class="heading" role="row">
                                <th width="50px" style="text-align:center">#</th>
                                <th width="440px" style="text-align:center">PTO Year</th>
                                <th width="10px"></th>
                            </tr>
                        </thead>
                        <tbody style="width:100%;" ng-style="{'min-height': gridHeight + 'px'}">
                            <tr ng-repeat="item in ptoYears" ng-click="onYearSelected(item)" ng-class="{'warning':selectedYear == item};" ng-style="{'min-height': '5px'}">
                                <td width="50px" align ="center">{{$index + 1}}</td>
                                <td width="450px" style="text-align:left">{{item.brief}}</td>
                             </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-8" style="padding-top: 13px; padding-right:15px;">
                     <div class="col-md-12" style="border:1px solid rgba(0,0,0,.175);">
                        <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                        <div class="form-group" ng-class="{'has-error':ptoForm.selectedPTOYear.$invalid}">
                             <label class="col-md-2 control-label">PTO Year:</label>
                            <div class="col-md-2">
                                <input class="form-control input-sm" name="selectedPTOYear" ng-blur="onPTOYearChanged(empPTOYear.ptoYearSelected)" maxlength="4" minLength="4" ng-model="empPTOYear.ptoYearSelected" ng-required="true" pto-integer/>
                            </div>
                        </div>
                        <div class="row" ng-style="{'min-height': ptoYearDetailHeight + 'px'}"></div>
                    </div>
                    <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                    <div>
                       <a class="btn btn-primary" ng-click="savePTOYear()">Save</a>
                       <a class="btn btn-primary" ng-click="newPTOYear()">New</a>
                       <a class="btn btn-primary" ng-click="undoPTOYear()">Undo</a>
                    </div>
               </div>
            </div>
           </div> 
        </tab>
        <tab heading="PTO Types" ng-click="onPtoTypesTabClick()" ng-show="showPTOTypes">
            <div id="mainView" ng-style="{'max-height': mainViewHeight + 'px'}">
              <div class="row" style="background-color: #C5D7EC;">
                <div style="padding-left: 700px; font: bold; font-size: larger;">
                    <label class="control-label">PTO Types</label>
                </div>
            </div>       
            <div class="row margin-bottom10" style="padding-top:15px;">
                <div class="col-md-4">
                    <table class="table-scroll table table-striped table-bordered table-hover" style="width:500px;">
                        <thead>
                            <tr class="heading" role="row">
                                <th width="50px" style="text-align:center">#</th>
                                <th width="450px" style="text-align:center">PTO Type</th>
                                <th width="10px"></th>
                            </tr>
                        </thead>
                        <tbody style="width:100%;" ng-style="{'min-height': gridHeight + 'px'}">
                            <tr ng-repeat="item in ptoTypes" ng-click="onPTOtypeSelected(item)" ng-class="{'warning':selectedPTOtype == item};">
                                <td width="50px" align ="center">{{$index + 1}}</td>
                                <td width="450px" align ="left">{{item.brief}}</td>
                             </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-8" style="padding-top: 13px; padding-right:15px;">
                    <div class="col-md-12" style="border:1px solid rgba(0,0,0,.175);">
                        <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.payCode.$invalid}">
                             <label class="col-md-2 control-label">Pay Code:</label>
                            <div class="col-md-4">
                                <select name="payCode" class="form-control input-sm" ng-model="ptoType.payCode" ng-options="item.id as item.brief + ' - ' + item.name for item in payCodes" ng-change="onPayCodeChange(ptoType.payCode)" required></select>  
                            </div>
                        </div>
                        <div class="row" ng-style="{'min-height': payCodeDetailHeight + 'px'}"></div>
                    </div>
                    <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                    <div>
                       <a class="btn btn-primary" ng-click="savePTOType()">Save</a>
                       <a class="btn btn-primary" ng-click="undoPTOType()">Undo</a>
                    </div>
                </div>
            </div>
           </div> 
        </tab>
        <tab heading="PTO Plan Types" ng-click="onPlanTypeTabClick()" ng-show="showPTOPlanTypes">
            <div id="mainView" ng-style="{'max-height': mainViewHeight + 'px'}">
                <div class="row">
                    <div class="form-group"  style="background-color: #C5D7EC;">
                        <div style="padding-left: 700px; font: bold; font-size: larger">
                           <label class="control-label">PTO Plan Types</label>
                        </div>
                     </div>
                </div>
                <div class="row margin-bottom10">
                    <div class="col-md-8">
                        <table class="table-scroll table table-striped table-bordered table-hover" style="width: 1100px;">
                            <thead>
                                <tr class="heading" role="row">
                                    <th width="15px" style="text-align:center">#</th>
                                    <th width="285px" style="text-align:center">PLAN TYPE</th>
                                    <th width="200px" style="text-align:center">PAY TYPE</th>
                                    <th width="250px" style="text-align:center">STATUS CATEGORY</th>
                                    <th width="100px" style="text-align:center">MIN HOURS</th>
                                    <th width="100px" style="text-align:center">MAX HOURS</th>
                                    <th width="10px"></th>
                                </tr>
                            </thead>
                            <tbody style="width:100%" ng-style="{'min-height': gridHeight + 'px'}">
                                <tr ng-repeat="item in ptoPlanTypes" ng-click="onPTOPlanTypeSelected(item)" ng-class="{'warning':selectedPTOPlanType == item};">
                                    <td width="15px" align ="center">{{$index + 1}}</td>
                                    <td width="285px" align ="left">{{item.title}}</td>
                                    <td width="200px" align ="left">{{item.payStatus}}</td>
                                    <td width="250px" align ="left">{{item.statusCategory}}</td>
                                    <td width="100px" align ="left">{{item.minHours}}</td>
                                    <td width="100px" align ="left">{{item.maxHours}}</td>
                                 </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-4" style="padding-top: 13px; padding-right:15px;">
                     <div class="col-md-12" ng-style="{'border':'1px solid rgba(0,0,0,.175)', 'min-height': PlanTypeDetailHeight + 'px'}">
                        <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                        <div>
                        <div class="row" ng-class="{'has-error':ptoForm.planTypeTitle.$invalid}">
                             <label class="col-md-4 control-label">Title:</label>
                            <div class="col-md-6">
                                <input name="planTypeTitle" class="form-control input-sm" ng-model="ptoPlanType.ptoPlanTypeTitle" ng-change="onPlanTypeChange()" required/>
                            </div>
                        </div>
                        <div class="row">
                            <label class="col-md-4 control-label">Pay Type:</label>
                            <div class="col-md-3">
                                <div class="form-inline">
                                        <div class="form-group">
                                            <label class="labelText">
                                                <input ng-model="ptoPlanType.Salary" ng-click="payTypeSalaryChanged(ptoPlanType.Salary)" type="checkbox" />&nbsp;Salary
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="form-inline">
                                        <div class="form-group">
                                            <label class="labelText">
                                                <input ng-model="ptoPlanType.Hourly" ng-click="payTypeHourlyChanged(ptoPlanType.Hourly)" type="checkbox" />&nbsp;Hourly
                                            </label>
                                        </div>
                                    </div>
                                </div>
                        </div>
                        <div class="row">
                                <label class="col-md-4 control-label">Status Category:</label>
                                <div class="col-md-3">
                                        <div class="form-inline">
                                            <div class="form-group">
                                                <label class="labelText">
                                                    <input name="FullTimeStatus" ng-model="ptoPlanType.Status" type="radio" value="1" ng-change="onPlanTypeChange()"/>&nbsp;Full Time
                                                </label>
                                            </div>
                                        </div>
                                  </div>
                                   <div>
                                        <div class="form-inline">
                                            <div class="form-group">
                                                <label class="labelText">
                                                    <input name="PartTimeStatus" ng-model="ptoPlanType.Status" type="radio" value="2" ng-change="onPlanTypeChange()"/>&nbsp;Part Time
                                                </label>
                                            </div>
                                        </div>
                                       </div>
                        </div>
                        <div class="row" ng-show="ptoPlanType.Hourly" ng-class="{'has-error':ptoForm.planTypeMinHours.$invalid}">
                             <label class="col-md-4 control-label">Minimum Hours:</label>
                            <div class="col-md-6">
                                <input name="planTypeMinHours" class="form-control input-sm" ng-model="ptoPlanType.ptoPlanTypeMinHours" maxlength="2" ng-blur="onMinHoursChange(ptoPlanType.ptoPlanTypeMinHours)" pto-integer required/>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-show="ptoPlanType.Hourly" ng-class="{'has-error':ptoForm.planTypeMaxHours.$invalid}">
                             <label class="col-md-4 control-label">Maximum Hours:</label>
                            <div class="col-md-6">
                                <input name="planTypeMaxHours" class="form-control input-sm" ng-model="ptoPlanType.ptoPlanTypeMaxHours" maxlength="2" ng-blur="onMaxHoursChange(ptoPlanType.ptoPlanTypeMaxHours)" pto-integer required/>
                            </div>
                        </div>
                        <div class="row">
                            <label class="col-md-4 control-label">Active:</label>
                            <div class="col-md-4">
                                <label>
                                    <input name="planTypeActive" type="checkbox" ng-model="ptoPlanType.ptoPlanTypeActive" ng-value="ptoPlanType.ptoPlanTypeActive" ng-click="onPlanTypeActiveChange(ptoPlanType.ptoPlanTypeActive)"/>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                    <div class="row" style="padding-bottom: 15px;"></div>
                        <div>
                            <a class="btn btn-primary" ng-click="savePTOPlanType()">Save</a>
                            <a class="btn btn-primary" ng-click="newPTOPlanType()">New</a>
                            <a class="btn btn-primary" ng-click="undoPTOPlanType()">Undo</a>
                        </div>
                    </div>
                </div>
               </div>     
        </tab>
        <tab heading="PTO Plans" ng-show="showPTOPlans" ng-click="onPTOPlanTabClick()">
             <div id="mainView" ng-style="{'max-height': mainViewHeight + 'px'}">
                <div class="row">
                    <div class="form-group"  style="background-color: #C5D7EC;">
                        <div style="padding-left: 700px; font: bold; font-size: larger">
                           <label class="control-label">PTO Plans</label>
                        </div>
                     </div>
                </div>
                <div class="row margin-bottom10">
                    <label class="col-md-1 control-label">PTO Year:</label>
                    <div class="col-md-1">
                         <select class="form-control input-sm" ng-model="ptoPlan.ptoYear" ng-options="item.id as item.name for item in ptoYears" ng-change="onYearChange()"></select>  
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-primary" ng-click="yearSearch()">Search</a>
                    </div>
                </div>
                <div class="row margin-bottom10">
                    <div class="col-md-6">
                        <table class="table-scroll table table-striped table-bordered table-hover" style="width: 800px;">
                            <thead>
                                <tr class="heading" role="row">
                                    <th width="30px" style="text-align:center">#</th>
                                    <th width="570px" style="text-align:center">PLAN Name</th>
                                    <th width="200px" style="text-align:center">PTO TYPE</th>
                                    <th width="10px"></th>
                                </tr>
                            </thead>
                            <tbody style="width: 100%;" ng-style="{'min-height': ptoPlanGridHeight + 'px'}">
                                <tr ng-repeat="item in ptoPlans" ng-click="onPTOPlanSelected(item)" ng-class="{'warning':selectedPTOPlan == item};">
                                    <td width="30px" align ="center">{{$index + 1}}</td>
                                    <td width="570px" align ="left">{{item.title}}</td>
                                    <td width="200px" align ="left">{{item.ptoTypeTitle}}</td>
                                 </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6"  style="padding-top: 13px; padding-right:15px; padding-left:15px;">
                     <div class="col-md-12" ng-style="{'border':'1px solid rgba(0,0,0,.175)', 'min-height': ptoPlanDetailHeight + 'px'}">
                        <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                        <div ng-show="!isClone">
                        <div class="row" ng-class="{'has-error':ptoForm.planName.$invalid}">
                             <label class="col-md-3 control-label">Plan Name:</label>
                            <div class="col-md-4">
                                <input name="planName" class="form-control input-sm" ng-model="ptoPlan.ptoPlanName" ng-change="onPTOPlanChange()" required/>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.planType.$invalid}">
                             <label class="col-md-3 control-label">Plan Type:</label>
                             <div class="col-md-4">
                            <select name="planType" class="form-control input-sm" ng-model="ptoPlan.ptoPlanType" ng-options="item.id as item.title for item in ptoPlanTypes" ng-change="onPTOPlanChange()" required></select>  
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.planPTOType.$invalid}">
                             <label class="col-md-3 control-label">PTO Type:</label>
                             <div class="col-md-4">
                            <select name="planPTOType" class="form-control input-sm" ng-model="ptoPlan.ptoType" ng-options="item.id as item.brief for item in ptoTypes" ng-change="onPTOPlanChange()" required></select>  
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.planPtoYear.$invalid}">
                            <label class="col-md-3 control-label">PTO Year:</label>
                             <div class="col-md-4">
                            <select class="form-control input-sm" name="planPtoYear" ng-model="ptoPlan.planPtoYear" ng-options="item.id as item.name for item in ptoYears" ng-change="onPTOPlanChange()" required></select>  
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.startDate.$invalid}">
                             <label class="col-md-3 control-label">Start Date:</label>
                            <div class="col-md-4">
                                <pto-datepicker dt-option="dateOptions" dt-name="startDate" dt-popup="MM/dd/yyyy" dt-model="ptoPlan.startDate" max-Date="maxDate" dt-blur="onStartDateChange()" dt-required="true"></pto-datepicker>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.endDate.$invalid}">
                             <label class="col-md-3 control-label">End Date:</label>
                            <div class="col-md-4">
                                <pto-datepicker dt-option="dateOptions" dt-name="endDate" dt-popup="MM/dd/yyyy" dt-model="ptoPlan.endDate" max-Date="maxDate" dt-blur="onEndDateChange()" dt-required="true"></pto-datepicker>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.planDays.$invalid}">
                             <label class="col-md-3 control-label">Plan Days:</label>
                            <div class="col-md-4">
                                <input name="planDays" class="form-control input-sm" ng-model="ptoPlan.ptoPlanDays" maxlength="2" ng-change="onPTOPlanChange()" pto-integer required/>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row">
                            <label class="col-md-3 control-label">Accrual:</label>
                            <div class="col-md-4">
                                <label>
                                    <input type="checkbox" name="accrual" ng-model="ptoPlan.ptoPlanAccrual" ng-value="ptoPlan.ptoPlanAccrual" ng-click="onAccrualChange(ptoPlan.ptoPlanAccrual)"/>
                                </label>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row" ng-class="{'has-error':ptoForm.accrualInterval.$invalid}">
                             <label class="col-md-3 control-label">Accrual Interval:</label>
                            <div class="col-md-4">
                                <input class="form-control input-sm" name="accrualInterval" maxlength="3" ng-disabled="!ptoPlan.ptoPlanAccrual" ng-model="ptoPlan.ptoPlanAccrualInterval" ng-change="onPTOPlanChange()" pto-integer required/>
                            </div>
                        </div>
                        <div class="row" style="padding-top:5px;"></div>
                        <div class="row">
                            <label class="col-md-3 control-label">Active:</label>
                            <div class="col-md-4">
                                <label>
                                    <input type="checkbox" name="planActive" ng-model="ptoPlan.ptoPlanActive" ng-value="ptoPlanActive" ng-click="onPTOPlanChange()"/>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div ng-show="isClone" style="padding-top:15px;">
                            <div class="row" ng-class="{'has-error':ptoForm.fromYear.$invalid}">
                                 <label class="col-md-2 control-label">Clone From:</label>
                                 <div class="col-md-2">
                                     <select class="form-control input-sm" name="fromYear" ng-model="ptoPlan.cloneFromYear" ng-change="fromYearChangedValue(ptoPlan.cloneFromYear)" 
                                     data-ng-options="item as item.name for item in cloneFromYears" required></select>
                                </div>
                            </div>
                            <div class="row" style="padding-top:5px;"></div>
                            <div class="row" ng-class="{'has-error':ptoForm.toYear.$invalid}">
                                 <label class="col-md-2 control-label">Clone To:</label>
                                <div class="col-md-2">
                                    <input class="form-control input-sm" name="toYear" ng-disabled="true" ng-model="cloneToYear" required/>
                                </div>
                            </div>
                    </div>
                </div>
                        <div class="row margin-bottom10" style="padding-bottom: 15px;"></div>
                        <div>
                            <a class="btn btn-primary" ng-click="savePTOPlan()" ng-disabled="hasPlans">Save</a>
                            <a class="btn btn-primary" ng-click="newPTOPlan()">New</a>
                            <a class="btn btn-primary" ng-click="undoPTOPlan()">Undo</a>
                            <a class="btn btn-primary" ng-click="clonePTOPlan()">Clone</a>
                        </div>
                    </div>
                 </div>
            </div>
        </tab>
        <tab heading="PTO Assignments" ng-show="showPTOAssignments" ng-click="assignmentsTabClick()">
            <div id="mainView" ng-style="{'max-height': mainViewHeight + 'px'}">
                <div class="row">
                    <div class="form-group"  style="background-color: #C5D7EC;">
                        <div style="padding-left: 700px; font: bold; font-size: larger">
                           <label class="control-label">PTO Assignments</label>
                        </div>
                     </div>
                </div>
            <div class="row margin-bottom10">
                <label class="col-md-1 control-label">House Code:</label>
                <div class="col-md-2">
                <pto-typeahead ng-model="assignment.hcmHouseCode" source="hcmHouseCodes" typeahead-option="{displayField:'name',valueField:'id',name:'HcmHouseCode'}"></pto-typeahead>
            </div>
            <div class="col-md-1"></div>
                <label class="col-md-1 control-label">PTO Year:</label>
                <div class="col-md-1">
                        <select class="form-control input-sm" ng-model="assignment.ptoAssignYear" ng-options="item.id as item.name for item in ptoYears" ng-change="onYearChange()"></select>  
                </div>
            <div class="col-md-2">
                <a class="btn btn-primary" ng-click="assignmentSearch()">Search</a>
            </div>
            </div>
            <div class="row margin-bottom10">
                    <div class="col-md-6">
                        <table class="table-scroll table table-striped table-bordered table-hover" style="width: 800px;">
                            <thead>
                                <tr class="heading" role="row">
                                    <th width="30px" style="text-align:center">#</th>
                                    <th width="570px" style="text-align:center">PLAN Name</th>
                                    <th width="200px" style="text-align:center">PTO TYPE</th>
                                    <th width="10px"></th>
                                </tr>
                            </thead>
                            <tbody style="width: 100%;" ng-style="{'min-height': ptoPlanGridHeight + 'px'}">
                                <tr ng-repeat="item in ptoPlanAssignments" ng-click="onPTOPlanAssignmentSelected(item)" ng-class="{'warning':selectedPTOPlanAssignment == item};">
                                    <td width="30px" align ="center">{{$index + 1}}</td>
                                    <td width="570px" align ="left">{{item.ptoPlanTitle}}</td>
                                    <td width="200px" align ="left">{{item.ptoTypeTitle}}</td>
                                 </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <table class="table-scroll table table-striped table-bordered table-hover" style="width: 800px;">
                            <thead>
                                <tr class="heading" role="row">
                                    <th width="30px" style="text-align:center">#</th>
                                    <th width="235px" style="text-align:center">First Name</th>
                                    <th width="235px" style="text-align:center">Last Name</th>
                                    <th width="300px" style="text-align:center">Job Title</th>
                                    <th width="10px"></th>
                               </tr>
                            </thead>
                            <tbody id="Tbody5" ng-style="{'min-height': ptoPlanGridHeight + 'px'}">
                                <tr ng-repeat="item in employees">
                                    <td width="30px" align ="center">{{$index + 1}}</td>
                                    <td width="235px" align ="left">{{item.firstName}}</td>
                                    <td width="235px" align ="left">{{item.lastName}}</td>
                                    <td width="300px" align ="left">{{item.jobTitle}}</td>
                                 </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </tab>
    </tabset>
   </div>
        <div ng-show="isPageLoading()">
                <div class="overlay"></div>
                <div class="spinner">
                    <span class="glyphicon glyphicon-refresh glyphicon-spin"></span>{{loadingTitle}}
                </div>
        </div>
    </form>
</div>

    